<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="header :: header">
</head>

<body style="margin:0px;">
    <table  id="food_table" class="easyui-datagrid" title="菜品管理" singleSelect="true" fitColumns="true" nowrap="false" striped="true"
            SelectOnCheck="true" CheckOnSelect="true" rownumbers="true" pagination="true" pageSize="25" pageList="[25, 50, 150]" toolbar="#condition_div" fit="true" >
        <thead>
        <tr>
            <th field="select" align="center" checkbox="true"></th>
            <th field="id" align="center" width="8%"></th>
            <th field="foodName" align="center" width="8%"></th>
            <th field="foodType" align="center" width="8%"></th>
            <th field="foodPrice" align="center" width="8%"></th>
            <th field="foodStatus" align="center" width="8%"></th>
            <th field="foodCuisine" align="center" width="8%"></th>
            <th field="foodKey" align="center" width="8%"></th>
            <th field="foodIntroduce" align="center" width="8%"></th>
        </tr>

        </thead>
    </table>

<div id="condition_div" style="padding:2px 5px;">
    <form id="formSearch">
        <input type="hidden" name="pageSize" id="pageSize" />
        <input type="hidden" name="pageNumber" id="pageNumber" />
        <!--查询条件: userId和手机号-->
        <div width="100%" style="margin:4px">
            菜品名称：<input type="text" id="searchUserId" name="foodName" class="easyui-textbox" maxlength="20" style="width:150px"/>&nbsp;&nbsp;
            菜品类型：<input type="text" id="searchMobile" name="foodType" class="easyui-textbox easyui-validatebox" data-options="validType:'length[11,11]'" maxlength="11" style="width:100px"/>&nbsp;&nbsp;
            菜系：<input type="text" id="searchAccountId" name="foodCuisine" class="easyui-textbox" maxlength="20" style="width:150px"/>&nbsp;&nbsp;
            关键字：<input type="text" id="searchUserName" name="foodKey" class="easyui-textbox" maxlength="20" style="width:150px"/>&nbsp;&nbsp;<br/><br/>
            菜品价格：<input class="easyui-textbox" id="startDate" name="lowPrice" type="text" editable = "false"> --
            <input class="easyui-textbox" id="endDate" name="highPrice" type="text" editable = "false">&nbsp;&nbsp;&nbsp;&nbsp;
            <a href="#" class="easyui-linkbutton" iconCls="icon-search" onclick="searchUser()">搜索</a>
        </div>

        <div width="100%" style="margin:4px">
            <a href="#" class="easyui-linkbutton" iconCls="icon-edit" onclick="">修改菜品状态</a>&nbsp;&nbsp;
            <a href="#" class="easyui-linkbutton" iconCls="icon-edit" onclick="">创建菜品信息</a>&nbsp;&nbsp;
            <a href="#" class="easyui-linkbutton" iconCls="icon-edit" onclick="">修改菜品信息</a>&nbsp;&nbsp;
        </div>
    </form>
</div>

    <div id="dlgModifyUserStatus" class="easyui-dialog" title="修改用户状态" width="400px" height="150px" closed="true" buttons="#dlgModifyUserStatus-buttons" style="padding:10px" modal="true">
        <form id="formModifyUserStatus" method="post">
            <input type="hidden" name="userId" id="userId" />
            <input type="hidden" name="userStatusOld" id="userStatusOld" />
            <table align="center" width="90%" cellpadding="2" cellspacing="2">
                <tr>
                    <td>
                        将用户状态修改为：<select class="easyui-combobox" id="userStatusNew" name="flag" panelHeight="auto" editable="false" style="width:100px">
                        <option value="1">正常</option>
                        <option value="0">冻结</option>
                    </select>
                    </td>
                </tr>
            </table>
        </form>
    </div>
    <div id="dlgModifyUserStatus-buttons">
        <a href="javascript:void(0)" class="easyui-linkbutton" onclick="" iconcls="icon-save">保存</a> <!--modifyUserStatusSave() ,javascript:$('#dlgModifyUserStatus').dialog('close')-->
        <a href="javascript:void(0)" class="easyui-linkbutton" onclick="" iconcls="icon-cancel">取消</a>
    </div>

    <!--点击刷新用户缓存后，显示的弹框-->
    <div id="dlgRefreshUserCache" class="easyui-dialog" title="刷新用户缓存" width="400px" height="150px" closed="true" buttons="#dlgRefreshUserCache-buttons" style="padding:10px" modal="true">
        <form id="formRefreshUserCache" method="post">
            <table align="center" width="90%" cellpadding="2" cellspacing="2">
                <tr>
                    <td>
                        需要刷新缓存的用户Id：<input type="text" id="refreshUserId" name="refreshUserId" class="easyui-textbox" maxlength="20" style="width:150px"/>&nbsp;&nbsp;
                    </td>
                </tr>
            </table>
        </form>
    </div>
    <div id="dlgRefreshUserCache-buttons">
        <a href="javascript:void(0)" class="easyui-linkbutton" onclick="" iconcls="icon-save">刷新</a> <!--refreshUserCache()  ,javascript:$('#dlgRefreshUserCache').dialog('close')-->
        <a href="javascript:void(0)" class="easyui-linkbutton" onclick="" iconcls="icon-cancel">取消</a>
    </div>

</body>
<footer th:replace="footer :: footer"></footer>

<script type="text/javascript"  th:inline="none">
    $("#food_table").datagrid( {
        url:'/htm/foodInfoData.htm',
        striped: true,
        rownumbers:true,
        pagination: true,
        pageSize: 10,
        pageList: [10, 20, 50, 100, 150, 200],
        border : false,
        showFooter : true,
        loadMsg:'数据加载中，请稍等...',
        columns:[[
            {field:'select',checkbox:true},
            {field:'id',title:'菜品id',width:'8%'},
            {field:'foodName',title:'菜名',width:'8%',align:'right'},
            {field:'foodType',title:'菜品类型',width:'10%',align:'right'},
            {field:'foodPrice',title:'菜价',width:'10%',align:'right'},
            {field:'foodStatus',title:'菜品状态',width:'8%',align:'right'},
            {field:'foodCuisine',title:'菜系',width:'10%',align:'right'},
            {field:'foodKey',title:'菜品关键字',width:'10%',align:'right'},
            {field:'foodIntroduce',title:'菜品介绍',width:'10%',align:'right'}
        ]],
        onBeforeLoad:function(param){
            console.log(param);
        },
        onLoadSuccess: function (data){
            console.log(data);
        },
        onLoadError: function (){
            alert("数据加载失败！");
        }
    });

</script>